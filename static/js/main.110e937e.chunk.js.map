{"version":3,"sources":["components/assets/page404png.png","serviceWorker.ts","state/actions/enums/index.ts","state/actions/app.ts","api/types/index.ts","utils/handleBackendResponseErrors.ts","utils/getCleanString.ts","components/AddItemForm.tsx","components/EditableSpan.tsx","components/Task.tsx","api/config/index.ts","api/appDataAPI.ts","api/authAPI.ts","state/reducers/listsActionsReducer.ts","state/reducers/tasksActionsReducer.ts","state/selectors/getAppStatus.ts","state/selectors/getAppInitializationState.ts","state/selectors/getAuthState.ts","state/middlewares/tasks.ts","components/Todolist.tsx","state/selectors/selectTodoListTasks.ts","state/middlewares/lists.ts","state/reducers/appReducer.ts","state/reducers/authReducer.ts","state/store.ts","components/AllTodoLists.tsx","components/ErrorSnackbar.tsx","components/Login.tsx","state/middlewares/login.ts","components/Page404.tsx","state/middlewares/app.ts","App.tsx","index.tsx"],"names":["module","exports","Boolean","window","location","hostname","match","APP_ACTIONS_TYPE","TaskStatus","TaskPriority","ServerResultCodes","setAppErrorAC","errorMessage","type","APP_SET_ERROR","error","setAppStatusAC","newStatus","APP_SET_STATUS","status","handleResolveWithServerErrorMessage","data","dispatch","messages","length","handleReject","message","getCleanString","text","trim","AddItemFormWrapper","styled","div","AddItemForm","memo","disabled","props","useState","textFieldContent","setTextFieldContent","setError","addItem","title","addItemCallback","TextField","label","size","variant","value","onChange","event","currentTarget","onKeyPress","key","IconButton","onClick","AddBox","EditableSpan","editMode","setEditMode","saveNewName","itemNameChangedCallback","itemName","onEnterKeyPress","useCallback","helperText","autoFocus","onBlur","onDoubleClick","TaskNameWithCheckboxWrapper","Task","changeStatus","newTaskStatus","checked","Completed","New","taskID","changeName","newName","removeTask","Checkbox","isDone","color","taskName","axiosInstance","axios","create","baseURL","process","withCredentials","headers","appDataAPI","todolistId","put","delete","name","post","get","todolistID","requestPayload","authAPI","authData","initialState","setListStatusAC","listID","payload","entityStatus","getAppStatus","state","app","appStatus","getAppInitializationState","isInitialized","getAuthState","auth","isLoggedIn","updateTaskTC","newTaskData","getState","taskToBeChanged","tasks","find","task","id","deadline","description","priority","startDate","then","response","resultCode","success","newData","updateTaskDataAC","catch","console","warn","TodolistCard","FilterButtonsWrapper","Todolist","demo","listStatus","useSelector","todoListID","selectTodoListTasks","useDispatch","useEffect","setTasksAC","items","filteredTasks","activeFilter","filter","changeTaskStatus","addTask","addTaskAC","item","removeTaskAC","removeTaskTC","changeFilter","newFilterValue","deleteTodolist","action","removeListAC","changeTaskName","changeListName","changeListNameAC","changeListNameTC","List","disablePadding","map","ListItem","disableGutters","style","justifyContent","Button","iniAppState","iniState","setAuthStateAC","newAuthState","rootReducer","combineReducers","newState","stateCopy","todoList","lists","forEach","list","newInAppList","APP_SET_INIT","store","createStore","applyMiddleware","thunk","useAppSelector","AllTodoLists","todolists","userIsLoggedIn","addTodolist","listName","Grid","container","paddingTop","spacing","Paper","padding","elevation","replace","to","Alert","ErrorSnackbar","isOpen","handleClose","reason","Snackbar","open","autoHideDuration","onClose","severity","Login","showPassword","setShowPassword","formik","useFormik","validate","values","email","password","initialValues","rememberMe","onSubmit","justify","xs","handleSubmit","FormControl","FormLabel","marginTop","minWidth","textAlign","href","FormGroup","margin","handleChange","handleBlur","touched","errors","FormControlLabel","control","Page404","display","flexDirection","alignItems","height","src","notFound","alt","initializeAppTC","newInitState","App","appIsInitialized","navigate","useNavigate","Box","sx","CircularProgress","showProgressBar","AppBar","position","Toolbar","edge","aria-label","Menu","Typography","marginLeft","LinearProgress","Container","fixed","path","element","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.110e937e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/page404png.bc53bdbc.png\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","export enum APP_ACTIONS_TYPE {\n  APP_SET_STATUS = 'APP/SET-STATUS',\n  APP_SET_ERROR = 'APP/SET-ERROR',\n  APP_SET_INIT = 'APP/SET-INIT',\n}\n","import { APP_ACTIONS_TYPE } from 'state/actions/enums';\nimport { EntityStatusType } from 'state/actions/types';\n\nexport const setAppErrorAC = (errorMessage: string | null) =>\n  ({\n    type: APP_ACTIONS_TYPE.APP_SET_ERROR,\n    error: errorMessage,\n  } as const);\n\nexport const setAppStatusAC = (newStatus: EntityStatusType) =>\n  ({\n    type: APP_ACTIONS_TYPE.APP_SET_STATUS,\n    status: newStatus,\n  } as const);\n\nexport const initializeAppAC = (newInitState: boolean) =>\n  ({\n    type: APP_ACTIONS_TYPE.APP_SET_INIT,\n    isInitialized: newInitState,\n  } as const);\n","import {Nullable} from \"types/Nullable\";\n\nexport enum TaskStatus {\n  New,\n  InProgress,\n  Completed,\n  Draft,\n}\n\nexport enum TaskPriority {\n  Low,\n  Middle,\n  High,\n  Urgent,\n  Someday,\n}\n\nexport type TodoListOnServerType = {\n  id: string;\n  addedDate: string;\n  order: number;\n  title: string;\n};\n\nexport enum ServerResultCodes {\n  success = 0,\n  error = 1,\n  captcha = 10,\n}\n\nexport type BaseResponseType<T = {}> = {\n  resultCode: ServerResultCodes;\n  messages: Array<string>;\n  fieldsErrors: Array<string>;\n  data: T;\n};\n\nexport type GetTasksResponseDataType = {\n  error: Nullable<string>;\n  items: Array<TaskType>;\n  totalCount: number;\n};\n\nexport type AuthMeResponseDataType = {\n  id: number;\n  email: string;\n  login: string;\n};\n\nexport type taskPutRequestBodyType = {\n  title: string;\n  description: string;\n  status: TaskStatus;\n  priority: TaskPriority;\n  startDate: string;\n  deadline: string;\n};\n\nexport type TaskType = {\n  description: string;\n  title: string;\n  status: TaskStatus;\n  priority: TaskPriority;\n  startDate: string;\n  deadline: string;\n  id: string;\n  todoListId: string;\n  order: number;\n  addedDate: string;\n};\n\nexport type LoginRequestDataType = {\n  email: string;\n  password: string;\n  rememberMe: boolean;\n  captcha?: string;\n};\n","import { AxiosError } from 'axios';\nimport { Dispatch } from 'redux';\n\nimport { BaseResponseType } from 'api/types';\nimport { setAppErrorAC, setAppStatusAC } from 'state/actions/app';\nimport { AppReducerActionsType } from 'state/actions/types';\n\nconst FIRST_ARRAY_ITEM = 0;\n\nexport const handleResolveWithServerErrorMessage = <T>(\n  data: BaseResponseType<T>,\n  dispatch: Dispatch<AppReducerActionsType>,\n): void => {\n  if (data.messages.length) {\n    dispatch(setAppErrorAC(data.messages[FIRST_ARRAY_ITEM]));\n  } else {\n    dispatch(setAppErrorAC('some error occurred'));\n  }\n  dispatch(setAppStatusAC('failed'));\n};\n\nexport const handleReject = (\n  error: AxiosError,\n  dispatch: Dispatch<AppReducerActionsType>,\n): void => {\n  dispatch(setAppErrorAC(error.message));\n  dispatch(setAppStatusAC('failed'));\n};\n","export const getCleanString = (text: string): string => text.trim();\n","import React, { memo, useState } from 'react';\n\nimport { IconButton, TextField } from '@material-ui/core';\nimport { AddBox } from '@material-ui/icons';\nimport styled from 'styled-components';\n\nimport { ComponentReturnType } from 'types/ComponentReturnType';\nimport { getCleanString } from 'utils';\n\ntype addItemFormPropsType = {\n  addItemCallback: (itemName: string) => void;\n  disabled?: boolean;\n};\nconst AddItemFormWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  padding-bottom: 20px;\n`;\n\nexport const AddItemForm = memo(\n  ({ disabled = false, ...props }: addItemFormPropsType): ComponentReturnType => {\n    // console.log(\n    //   `AddItemForm with \"${props.addItemCallback.toString()}\" callback was called`,\n    // );\n    const [textFieldContent, setTextFieldContent] = useState<string>('');\n    const [error, setError] = useState<boolean>(false);\n\n    const onTextFieldChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n      if (error) {\n        setError(false);\n      }\n      setTextFieldContent(event.currentTarget.value);\n    };\n\n    const addItem = (): void => {\n      const title = getCleanString(textFieldContent);\n      if (title) {\n        props.addItemCallback(title);\n      } else {\n        setError(true);\n      }\n      setTextFieldContent('');\n    };\n\n    const onEnterKeyPress = (event: React.KeyboardEvent<HTMLInputElement>): void => {\n      if (event.key === 'Enter') {\n        addItem();\n      }\n    };\n\n    return (\n      <AddItemFormWrapper>\n        <TextField\n          disabled={disabled}\n          label={error ? 'give it a name' : 'Title'}\n          size=\"small\"\n          variant=\"outlined\"\n          value={textFieldContent}\n          error={error}\n          onChange={onTextFieldChange}\n          onKeyPress={onEnterKeyPress}\n        />\n        <IconButton disabled={disabled} onClick={addItem}>\n          <AddBox />\n        </IconButton>\n      </AddItemFormWrapper>\n    );\n  },\n);\n","import React, { memo, useCallback, useState } from 'react';\n\nimport TextField from '@material-ui/core/TextField';\n\nimport { ComponentReturnType } from 'types/ComponentReturnType';\nimport { getCleanString } from 'utils';\n\ntype EditableSpanPropsType = {\n  disabled?: boolean;\n  itemName: string;\n  itemNameChangedCallback: (newName: string) => void;\n};\n\nexport const EditableSpan = memo(\n  ({ disabled = false, ...props }: EditableSpanPropsType): ComponentReturnType => {\n    // console.log(`editableSpan was called, text: ${props.itemName}`);\n    const [editMode, setEditMode] = useState<boolean>(false);\n    const [textFieldContent, setTextFieldContent] = useState('');\n    const [error, setError] = useState<boolean>(false);\n\n    const handleDoubleClick = (): void => {\n      if (disabled) return;\n      setEditMode(true);\n      setTextFieldContent(props.itemName);\n    };\n\n    const onTextFieldChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n      setError(false);\n      setTextFieldContent(event.currentTarget.value);\n    };\n\n    const saveNewName = (): void => {\n      const title = getCleanString(textFieldContent);\n      if (title) {\n        setEditMode(false);\n        props.itemNameChangedCallback(title);\n        setTextFieldContent(props.itemName);\n      } else {\n        setTextFieldContent('');\n        setError(true);\n      }\n    };\n\n    const onEnterKeyPress = useCallback(\n      (event: React.KeyboardEvent<HTMLInputElement>) => {\n        if (event.key === 'Enter') {\n          saveNewName();\n        }\n      },\n      [saveNewName],\n    );\n\n    return editMode ? (\n      <TextField\n        error={Boolean(error)}\n        helperText={error}\n        onKeyPress={onEnterKeyPress}\n        autoFocus\n        onBlur={saveNewName}\n        value={textFieldContent}\n        onChange={onTextFieldChange}\n      />\n    ) : (\n      <span onDoubleClick={handleDoubleClick}>{props.itemName}</span>\n    );\n  },\n);\n","import React, { memo, useCallback } from 'react';\n\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport Backspace from '@material-ui/icons/Backspace';\nimport styled from 'styled-components';\n\nimport { TaskStatus } from '../api/types';\n\nimport { EditableSpan } from './EditableSpan';\n\ntype TaskPropsType = {\n  // listID: string\n  taskID: string;\n  taskName: string;\n  isDone: boolean;\n  changeStatus: (taskID: string, newStatus: TaskStatus) => void;\n  changeName: (taskID: string, newName: string) => void;\n  removeTask: (taskID: string) => void;\n};\n\nconst TaskNameWithCheckboxWrapper = styled.div`\n  //min-width: 260px;\n  //border-bottom: 2px solid gray;\n`;\n\nexport const Task = memo((props: TaskPropsType) => {\n  // console.log(`Task was called, title: ${props.taskName}`);\n\n  // const dispatch = useDispatch()\n\n  const changeStatus = useCallback(\n    event => {\n      const newTaskStatus = event.currentTarget.checked\n        ? TaskStatus.Completed\n        : TaskStatus.New;\n      props.changeStatus(props.taskID, newTaskStatus);\n    },\n    [props.changeStatus, props.taskID],\n  );\n\n  const changeName = useCallback(\n    (newName: string) => {\n      props.changeName(props.taskID, newName);\n    },\n    [props.changeName, props.taskID],\n  );\n\n  const removeTask = useCallback(() => {\n    props.removeTask(props.taskID);\n  }, [props.removeTask, props.taskID]);\n\n  return (\n    <>\n      <TaskNameWithCheckboxWrapper>\n        <Checkbox checked={props.isDone} color=\"primary\" onChange={changeStatus} />\n        <EditableSpan itemName={props.taskName} itemNameChangedCallback={changeName} />\n      </TaskNameWithCheckboxWrapper>\n\n      <IconButton\n        size=\"small\"\n        // variant={\"contained\"}\n        onClick={removeTask}\n      >\n        <Backspace color=\"primary\" />\n      </IconButton>\n    </>\n  );\n});\n","import axios from 'axios';\n\nexport const axiosInstance = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL,\n  withCredentials: true,\n  headers: {\n    'API-KEY': process.env.REACT_APP_API_KEY as string,\n  },\n});\n","import { axiosInstance } from './config';\nimport {\n  BaseResponseType,\n  GetTasksResponseDataType,\n  taskPutRequestBodyType,\n  TaskType,\n  TodoListOnServerType,\n} from './types';\n\nexport const appDataAPI = {\n  updateTodoList(todolistId: string, title: string) {\n    return axiosInstance.put<BaseResponseType>(`todo-lists/${todolistId}`, { title });\n  },\n  deleteTodoList(todolistId: string) {\n    return axiosInstance.delete<BaseResponseType>(`todo-lists/${todolistId}`);\n  },\n  createTodoList(name: string) {\n    return axiosInstance.post<BaseResponseType<{ item: TodoListOnServerType }>>(\n      'todo-lists',\n      {\n        title: name,\n      },\n    );\n  },\n  getTodoLists() {\n    return axiosInstance.get<Array<TodoListOnServerType>>('todo-lists');\n  },\n  createTask(todolistID: string, name: string) {\n    return axiosInstance.post<BaseResponseType<{ item: TaskType }>>(\n      `todo-lists/${todolistID}/tasks`,\n      { title: name },\n    );\n  },\n  getTasks(todolistID: string) {\n    return axiosInstance.get<GetTasksResponseDataType>(`todo-lists/${todolistID}/tasks`);\n  },\n  updateTask(todolistID: string, taskID: string, requestPayload: taskPutRequestBodyType) {\n    return axiosInstance.put<BaseResponseType<{ item: TaskType }>>(\n      `todo-lists/${todolistID}/tasks/${taskID}`,\n      requestPayload,\n    );\n  },\n  deleteTask(todolistID: string, taskID: string) {\n    return axiosInstance.delete<BaseResponseType>(\n      `/todo-lists/${todolistID}/tasks/${taskID}`,\n    );\n  },\n};\n","import { axiosInstance } from './config';\nimport { AuthMeResponseDataType, BaseResponseType, LoginRequestDataType } from './types';\n\nexport const authAPI = {\n  login(authData: LoginRequestDataType) {\n    return axiosInstance.post<BaseResponseType<{ userId?: number }>>(\n      'auth/login',\n      authData,\n    );\n  },\n  logout() {\n    return axiosInstance.delete<BaseResponseType>('auth/login');\n  },\n  authMe() {\n    return axiosInstance.get<BaseResponseType<AuthMeResponseDataType>>('auth/me');\n  },\n};\n","import { TodoListOnServerType } from 'api/types';\nimport {\n  EntityStatusType,\n  ListsActionsType,\n  TasksFilterType,\n  TodoListInAppType,\n} from 'state/actions/types';\n\nconst initialState: Array<TodoListInAppType> = [];\n\nexport const listsActionsReducer = (\n  state: Array<TodoListInAppType> = initialState,\n  action: ListsActionsType,\n): Array<TodoListInAppType> => {\n  switch (action.type) {\n    case 'ADD-LIST': {\n      const newInAppList: TodoListInAppType = {\n        ...action.payload.todoList,\n        activeFilter: 'all',\n        entityStatus: 'idle',\n      };\n      return [newInAppList, ...state];\n    }\n    case 'REMOVE-LIST':\n      return state.filter(list => list.id !== action.payload.listID);\n    case 'CHANGE-FILTER':\n      return state.map(list =>\n        list.id === action.payload.listID\n          ? {\n              ...list,\n              activeFilter: action.payload.activeFilter,\n            }\n          : list,\n      );\n    case 'CHANGE-LIST-NAME':\n      return state.map(list =>\n        list.id === action.payload.listID\n          ? {\n              ...list,\n              title: action.payload.newName,\n            }\n          : list,\n      );\n    case 'SET-LISTS':\n      return action.payload.lists.map(list => ({\n        ...list,\n        activeFilter: 'all',\n        entityStatus: 'idle',\n      }));\n    case 'SET-LIST-STATUS':\n      return state.map(list =>\n        list.id === action.payload.listID\n          ? {\n              ...list,\n              entityStatus: action.payload.entityStatus,\n            }\n          : list,\n      );\n    default:\n      return state;\n  }\n};\n\n// type ListsActionsType =\n//   | ReturnType<typeof addListAC>\n//   | ReturnType<typeof removeListAC>\n//   | ReturnType<typeof changeFilterAC>\n//   | ReturnType<typeof changeListNameAC>\n//   | ReturnType<typeof setListsAC>\n//   | ReturnType<typeof setListStatusAC>\n//   | AppReducerActionsType;\n\n// export type RemoveListActionType = ReturnType<typeof removeListAC>;\nexport const removeListAC = (listID: string) =>\n  ({\n    type: 'REMOVE-LIST',\n    payload: {\n      listID,\n    },\n  } as const);\n\nexport const addListAC = (todoList: TodoListOnServerType) =>\n  ({\n    type: 'ADD-LIST',\n    payload: {\n      todoList,\n    },\n  } as const);\n\n// type ChangeFilterActionType = ReturnType<typeof changeFilterAC>\nexport const changeFilterAC = (listID: string, filter: TasksFilterType) =>\n  ({\n    type: 'CHANGE-FILTER',\n    payload: {\n      listID,\n      activeFilter: filter,\n    },\n  } as const);\n\n// type ChangeListNameActionType = ReturnType<typeof changeListNameAC>\nexport const changeListNameAC = (listID: string, newName: string) =>\n  ({\n    type: 'CHANGE-LIST-NAME',\n    payload: {\n      listID,\n      newName,\n    },\n  } as const);\n\n// export type setListsActionType = ReturnType<typeof setListsAC>;\nexport const setListsAC = (lists: Array<TodoListOnServerType>) =>\n  ({\n    type: 'SET-LISTS',\n    payload: {\n      lists,\n    },\n  } as const);\n\n// export type setListStatusActionType = ReturnType<typeof setListStatusAC>;\nexport const setListStatusAC = (listID: string, newStatus: EntityStatusType) =>\n  ({\n    type: 'SET-LIST-STATUS',\n    payload: {\n      listID,\n      entityStatus: newStatus,\n    },\n  } as const);\n\n// export const fetchListsTC = () => (dispatch: Dispatch<ListsActionsType>) => {\n//   dispatch(setAppStatusAC('loading'));\n//   appDataAPI\n//     .getTodoLists()\n//     .then(response => {\n//       dispatch(setListsAC(response.data));\n//       dispatch(setAppStatusAC('succeeded'));\n//     })\n//     .catch(error => {\n//       handleReject(error, dispatch);\n//     });\n// };\n//\n// export const removeListTC =\n//   (listID: string) => (dispatch: Dispatch<ListsActionsType>) => {\n//     dispatch(setAppStatusAC('loading'));\n//     dispatch(setListStatusAC(listID, 'loading'));\n//     appDataAPI\n//       .deleteTodoList(listID)\n//       .then(response => {\n//         if (response.data.resultCode === ServerResultCodes.success) {\n//           dispatch(removeListAC(listID));\n//           dispatch(setAppStatusAC('succeeded'));\n//           dispatch(setListStatusAC(listID, 'idle'));\n//         } else {\n//           handleResolveWithServerErrorMessage(response.data, dispatch);\n//         }\n//       })\n//       .catch(error => {\n//         handleReject(error, dispatch);\n//       });\n//   };\n//\n// export const addListTC = (name: string) => (dispatch: Dispatch<ListsActionsType>) => {\n//   dispatch(setAppStatusAC('loading'));\n//   appDataAPI\n//     .createTodoList(name)\n//     .then(response => {\n//       if (response.data.resultCode === ServerResultCodes.success) {\n//         dispatch(addListAC(response.data.data.item));\n//         dispatch(setAppStatusAC('succeeded'));\n//       } else {\n//         handleResolveWithServerErrorMessage<{ item: TodoListOnServerType }>(\n//           response.data,\n//           dispatch,\n//         );\n//       }\n//     })\n//     .catch(error => {\n//       handleReject(error, dispatch);\n//     });\n// };\n//\n// export const changeListNameTC =\n//   (listID: string, newName: string) => (dispatch: Dispatch<ListsActionsType>) => {\n//     dispatch(setAppStatusAC('loading'));\n//     dispatch(setListStatusAC(listID, 'loading'));\n//     appDataAPI\n//       .updateTodoList(listID, newName)\n//       .then(response => {\n//         if (response.data.resultCode === ServerResultCodes.success) {\n//           dispatch(changeListNameAC(listID, newName));\n//           dispatch(setAppStatusAC('succeeded'));\n//           dispatch(setListStatusAC(listID, 'idle'));\n//         } else {\n//           handleResolveWithServerErrorMessage(response.data, dispatch);\n//         }\n//       })\n//       .catch(error => {\n//         handleReject(error, dispatch);\n//       });\n//   };\n","import { TaskType } from 'api/types';\nimport { TasksActionsType, TasksListType, UpdateTaskDataType } from 'state/actions/types';\n\nconst initialState: TasksListType = {};\n\nexport const tasksActionsReducer = (\n  state: TasksListType = initialState,\n  action: TasksActionsType,\n): TasksListType => {\n  switch (action.type) {\n    case 'ADD-TASK': {\n      // action.payload.task.todoListId - where should I get the value ?\n      // new task always on top after app reload - is it server determined?\n      const newState = {\n        ...state,\n        [action.payload.listID]: [action.payload.task, ...state[action.payload.listID]],\n      };\n      return newState;\n    }\n    case 'REMOVE-TASK':\n      return {\n        ...state,\n        [action.payload.listID]: state[action.payload.listID].filter(\n          task => task.id !== action.payload.taskID,\n        ),\n      };\n\n    case 'UPDATE-TASK-DATA':\n      return {\n        ...state,\n        [action.payload.listID]: state[action.payload.listID].map(task =>\n          task.id === action.payload.taskID\n            ? { ...task, ...action.payload.newData }\n            : task,\n        ),\n      };\n\n    case 'REMOVE-LIST': {\n      const stateCopy = { ...state };\n      delete stateCopy[action.payload.listID];\n      return stateCopy;\n    }\n    case 'SET-TASKS':\n      return { ...state, [action.payload.todoListID]: action.payload.tasks };\n\n    case 'ADD-LIST':\n      return { ...state, [action.payload.todoList.id]: [] };\n\n    case 'SET-LISTS': {\n      const stateCopy = { ...state };\n      action.payload.lists.forEach(list => {\n        stateCopy[list.id] = [];\n      });\n      return stateCopy;\n    }\n    default:\n      return state;\n  }\n};\n\nexport const addTaskAC = (listID: string, task: TaskType) =>\n  ({\n    type: 'ADD-TASK',\n    payload: {\n      listID,\n      task,\n    },\n  } as const);\n\nexport const removeTaskAC = (listID: string, taskID: string) =>\n  ({\n    type: 'REMOVE-TASK',\n    payload: {\n      listID,\n      taskID,\n    },\n  } as const);\n\nexport const updateTaskDataAC = (\n  listID: string,\n  taskID: string,\n  newData: UpdateTaskDataType,\n) =>\n  ({\n    type: 'UPDATE-TASK-DATA',\n    payload: {\n      listID,\n      taskID,\n      newData,\n    },\n  } as const);\n","import { RootStateType } from '../store';\n\nimport { EntityStatusType } from 'state/actions/types';\n\nexport const getAppStatus = (state: RootStateType): EntityStatusType =>\n  state.app.appStatus;\n","import { RootStateType } from '../store';\n\nexport const getAppInitializationState = (state: RootStateType): boolean =>\n  state.app.isInitialized;\n","import { RootStateType } from 'state/store';\n\nexport const getAuthState = (state: RootStateType): boolean =>\n  state.auth.isLoggedIn;\n","import { Dispatch } from 'redux';\n\nimport { appDataAPI } from 'api';\nimport { ServerResultCodes, taskPutRequestBodyType, TaskType } from 'api/types';\nimport { setAppErrorAC, setAppStatusAC } from 'state/actions/app';\nimport { UpdateTaskDataType } from 'state/actions/types';\nimport {\n  addTaskAC,\n  removeTaskAC,\n  updateTaskDataAC,\n} from 'state/reducers/tasksActionsReducer';\nimport { RootStateType } from 'state/store';\nimport { handleReject, handleResolveWithServerErrorMessage } from 'utils';\n\nexport const setTasksAC = (todoListID: string, tasks: Array<TaskType>) =>\n  ({\n    type: 'SET-TASKS',\n    payload: {\n      todoListID,\n      tasks,\n    },\n  } as const);\n\nexport const fetchTasksTC = (todoListID: string) => (dispatch: Dispatch) => {\n  dispatch(setAppStatusAC('loading'));\n  appDataAPI\n    .getTasks(todoListID)\n    .then(response => {\n      dispatch(setTasksAC(todoListID, response.data.items));\n      dispatch(setAppStatusAC('succeeded'));\n    })\n    .catch(error => {\n      handleReject(error, dispatch);\n    });\n};\n\nexport const removeTaskTC = (listID: string, taskID: string) => (dispatch: Dispatch) => {\n  appDataAPI\n    .deleteTask(listID, taskID)\n    .then(response => {\n      dispatch(removeTaskAC(listID, taskID));\n    })\n    .catch(error => {\n      handleReject(error, dispatch);\n    });\n};\n\nexport const addTaskTC = (listID: string, taskName: string) => (dispatch: Dispatch) => {\n  dispatch(setAppStatusAC('loading'));\n  appDataAPI\n    .createTask(listID, taskName)\n    .then(response => {\n      if (response.data.resultCode === ServerResultCodes.success) {\n        dispatch(addTaskAC(listID, response.data.data.item));\n        dispatch(setAppStatusAC('succeeded'));\n      } else {\n        handleResolveWithServerErrorMessage<{ item: TaskType }>(response.data, dispatch);\n      }\n    })\n    .catch(error => {\n      handleReject(error, dispatch);\n    });\n};\n\nexport const updateTaskTC =\n  (listID: string, taskID: string, newTaskData: UpdateTaskDataType) =>\n  (dispatch: Dispatch, getState: () => RootStateType) => {\n    const currentState = getState();\n    const taskToBeChanged = currentState.tasks[listID].find(task => task.id === taskID);\n\n    if (!taskToBeChanged) {\n      console.warn(`task with id ${taskID} not found in todo list ${listID}`);\n      return;\n    }\n\n    const requestPayload: taskPutRequestBodyType = {\n      deadline: taskToBeChanged.deadline,\n      description: taskToBeChanged.description,\n      priority: taskToBeChanged.priority,\n      startDate: taskToBeChanged.startDate,\n      status: taskToBeChanged.status,\n      title: taskToBeChanged.title,\n      ...newTaskData,\n    };\n\n    // type TodoPreview = Omit<Todo, \"addedDate\">;\n    // type TodoPreview = Pick<TaskType, \"deadline\" | \"description\" | \"priority\" | \"startDate\" | \"status\"  |\"title\">\n    // is there a way to \"filter\" task properties and create object for put request body automatically?\n    // let clone = Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));\n    // debugger\n\n    appDataAPI\n      .updateTask(listID, taskID, requestPayload)\n      .then(response => {\n        if (response.data.resultCode === ServerResultCodes.success) {\n          dispatch(updateTaskDataAC(listID, taskID, newTaskData));\n        } else {\n          handleResolveWithServerErrorMessage(response.data, dispatch);\n        }\n      })\n      .catch(error => {\n        dispatch(setAppErrorAC(error.message));\n      });\n  };\n","import React, { memo, useCallback, useEffect } from 'react';\n\n// import {Button, IconButton, List, ListItem} from \"@material-ui/core\";\n// tree-shaking is working out of the box??\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Delete from '@material-ui/icons/Delete';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\n\nimport { AddItemForm } from './AddItemForm';\nimport { EditableSpan } from './EditableSpan';\nimport { Task } from './Task';\n\nimport { TaskStatus } from 'api/types';\nimport { EntityStatusType, TasksFilterType } from 'state/actions/types';\nimport { changeListNameTC, removeListTC } from 'state/middlewares/lists';\nimport { changeFilterAC } from 'state/reducers/listsActionsReducer';\nimport {} from 'state/reducers/tasksActionsReducer';\nimport { selectTodoListTasks } from 'state/selectors';\nimport { RootStateType } from 'state/store';\nimport {\n  addTaskTC,\n  fetchTasksTC,\n  removeTaskTC,\n  updateTaskTC,\n} from 'state/middlewares/tasks';\n\ntype TodolistPropsType = {\n  demo?: boolean;\n  listStatus: EntityStatusType;\n  todolistID: string;\n  title: string;\n  activeFilter: TasksFilterType;\n};\n\nconst TodolistCard = styled.div`\n  min-width: 300px;\n`;\n\nconst FilterButtonsWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding-right: 0;\n`;\n\nexport const Todolist = memo(\n  ({ demo = false, listStatus, ...props }: TodolistPropsType) => {\n    // console.log(`todolist was called, title: ${props.title}`);\n\n    // const listStatus = useSelector<RootStateType, EntityStatusType>(state => state.lists.)\n    // const tasks = useAppSelector<TaskType[]>(state => state.tasks[props.todolistID]);\n    const tasks = useSelector((state: RootStateType) =>\n      selectTodoListTasks(state, props.todolistID),\n    );\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n      if (demo) return;\n      dispatch(fetchTasksTC(props.todolistID));\n    }, [dispatch, props.todolistID, demo]);\n\n    let filteredTasks = tasks;\n    if (props.activeFilter === 'active') {\n      filteredTasks = tasks.filter(task => task.status === TaskStatus.New);\n    }\n    if (props.activeFilter === 'completed') {\n      filteredTasks = tasks.filter(task => task.status === TaskStatus.Completed);\n    }\n\n    const changeTaskStatus = useCallback(\n      (taskID: string, newStatus: TaskStatus) => {\n        dispatch(updateTaskTC(props.todolistID, taskID, { status: newStatus }));\n      },\n      [dispatch, props.todolistID],\n    );\n\n    const addTask = useCallback(\n      (name: string) => {\n        dispatch(addTaskTC(props.todolistID, name));\n      },\n      [dispatch, props.todolistID],\n    );\n\n    const removeTask = useCallback(\n      (taskID: string) => {\n        dispatch(removeTaskTC(props.todolistID, taskID));\n      },\n      [dispatch, props.todolistID],\n    );\n\n    const changeFilter = useCallback(\n      (newFilterValue: TasksFilterType) => {\n        dispatch(changeFilterAC(props.todolistID, newFilterValue));\n      },\n      [dispatch, props.todolistID],\n    );\n\n    const deleteTodolist = useCallback(() => {\n      const action = removeListTC(props.todolistID);\n      dispatch(action);\n    }, [dispatch, props.todolistID]);\n\n    const changeTaskName = useCallback(\n      (taskID: string, newName: string) => {\n        dispatch(updateTaskTC(props.todolistID, taskID, { title: newName }));\n      },\n      [dispatch, props.todolistID],\n    );\n\n    const changeListName = useCallback(\n      (newName: string) => {\n        dispatch(changeListNameTC(props.todolistID, newName));\n      },\n      [dispatch, props.todolistID],\n    );\n\n    return (\n      <TodolistCard>\n        <h3>\n          <EditableSpan itemName={props.title} itemNameChangedCallback={changeListName} />\n          <IconButton disabled={listStatus === 'loading'} onClick={deleteTodolist}>\n            <Delete />\n          </IconButton>\n        </h3>\n        <AddItemForm disabled={listStatus === 'loading'} addItemCallback={addTask} />\n        <List disablePadding>\n          {filteredTasks.map(task => (\n            <ListItem\n              disableGutters\n              key={task.id}\n              style={{ justifyContent: 'space-between' }}\n            >\n              <Task\n                taskID={task.id}\n                isDone={task.status === TaskStatus.Completed}\n                changeName={changeTaskName}\n                taskName={task.title}\n                changeStatus={changeTaskStatus}\n                removeTask={removeTask}\n              />\n            </ListItem>\n          ))}\n        </List>\n        <FilterButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color={props.activeFilter === 'all' ? 'primary' : 'default'}\n            onClick={() => changeFilter('all')}\n          >\n            All\n          </Button>\n          <Button\n            variant=\"contained\"\n            color={props.activeFilter === 'active' ? 'primary' : 'default'}\n            onClick={() => changeFilter('active')}\n          >\n            Active\n          </Button>\n          <Button\n            variant=\"contained\"\n            color={props.activeFilter === 'completed' ? 'primary' : 'default'}\n            onClick={() => changeFilter('completed')}\n          >\n            Completed\n          </Button>\n        </FilterButtonsWrapper>\n      </TodolistCard>\n    );\n  },\n);\n","import { RootStateType } from '../store';\n\nimport { TaskType } from 'api/types';\n\nexport const selectTodoListTasks = (\n  state: RootStateType,\n  todoListID: string,\n): TaskType[] => state.tasks[todoListID];\n","import { Dispatch } from 'redux';\n\nimport { appDataAPI } from 'api';\nimport { ServerResultCodes, TodoListOnServerType } from 'api/types';\nimport { setAppStatusAC } from 'state/actions/app';\nimport { ListsActionsType } from 'state/actions/types';\nimport {\n  addListAC,\n  changeListNameAC,\n  removeListAC,\n  setListsAC,\n  setListStatusAC,\n} from 'state/reducers/listsActionsReducer';\nimport { handleReject, handleResolveWithServerErrorMessage } from 'utils';\n\nexport const fetchListsTC = () => (dispatch: Dispatch<ListsActionsType>) => {\n  dispatch(setAppStatusAC('loading'));\n  appDataAPI\n    .getTodoLists()\n    .then(response => {\n      dispatch(setListsAC(response.data));\n      dispatch(setAppStatusAC('succeeded'));\n    })\n    .catch(error => {\n      handleReject(error, dispatch);\n    });\n};\n\nexport const removeListTC =\n  (listID: string) => (dispatch: Dispatch<ListsActionsType>) => {\n    dispatch(setAppStatusAC('loading'));\n    dispatch(setListStatusAC(listID, 'loading'));\n    appDataAPI\n      .deleteTodoList(listID)\n      .then(response => {\n        if (response.data.resultCode === ServerResultCodes.success) {\n          dispatch(removeListAC(listID));\n          dispatch(setAppStatusAC('succeeded'));\n          dispatch(setListStatusAC(listID, 'idle'));\n        } else {\n          handleResolveWithServerErrorMessage(response.data, dispatch);\n        }\n      })\n      .catch(error => {\n        handleReject(error, dispatch);\n      });\n  };\n\nexport const addListTC = (name: string) => (dispatch: Dispatch<ListsActionsType>) => {\n  dispatch(setAppStatusAC('loading'));\n  appDataAPI\n    .createTodoList(name)\n    .then(response => {\n      if (response.data.resultCode === ServerResultCodes.success) {\n        dispatch(addListAC(response.data.data.item));\n        dispatch(setAppStatusAC('succeeded'));\n      } else {\n        handleResolveWithServerErrorMessage<{ item: TodoListOnServerType }>(\n          response.data,\n          dispatch,\n        );\n      }\n    })\n    .catch(error => {\n      handleReject(error, dispatch);\n    });\n};\n\nexport const changeListNameTC =\n  (listID: string, newName: string) => (dispatch: Dispatch<ListsActionsType>) => {\n    dispatch(setAppStatusAC('loading'));\n    dispatch(setListStatusAC(listID, 'loading'));\n    appDataAPI\n      .updateTodoList(listID, newName)\n      .then(response => {\n        if (response.data.resultCode === ServerResultCodes.success) {\n          dispatch(changeListNameAC(listID, newName));\n          dispatch(setAppStatusAC('succeeded'));\n          dispatch(setListStatusAC(listID, 'idle'));\n        } else {\n          handleResolveWithServerErrorMessage(response.data, dispatch);\n        }\n      })\n      .catch(error => {\n        handleReject(error, dispatch);\n      });\n  };\n","import { APP_ACTIONS_TYPE } from 'state/actions/enums';\nimport { AppReducerActionsType, AppStateType } from 'state/actions/types';\n\nconst iniAppState: AppStateType = {\n  appStatus: 'idle',\n  error: null,\n  isInitialized: false,\n};\n\nexport const appReducer = (\n  state: AppStateType = iniAppState,\n  action: AppReducerActionsType,\n): AppStateType => {\n  switch (action.type) {\n    case APP_ACTIONS_TYPE.APP_SET_STATUS:\n      return { ...state, appStatus: action.status };\n    case APP_ACTIONS_TYPE.APP_SET_ERROR:\n      return { ...state, error: action.error };\n    case APP_ACTIONS_TYPE.APP_SET_INIT:\n      return { ...state, isInitialized: action.isInitialized };\n    default:\n      return { ...state };\n  }\n};\n","import { LoginActionType } from 'state/actions/types';\n\ntype LoginStateType = {\n  isLoggedIn: boolean;\n};\n\nconst iniState: LoginStateType = {\n  isLoggedIn: false,\n};\nexport const authReducer = (\n  state = iniState,\n  action: LoginActionType,\n): LoginStateType => {\n  switch (action.type) {\n    case 'login/SET-AUTH-STATE':\n      return { ...state, isLoggedIn: action.isLoggedIn };\n    default:\n      return state;\n  }\n};\n\nexport const setAuthStateAC = (newAuthState: boolean) =>\n  ({\n    type: 'login/SET-AUTH-STATE',\n    isLoggedIn: newAuthState,\n  } as const);\n","import { TypedUseSelectorHook, useSelector } from 'react-redux';\nimport { applyMiddleware, combineReducers, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport { appReducer } from './reducers/appReducer';\nimport { listsActionsReducer } from './reducers/listsActionsReducer';\nimport { authReducer } from 'state/reducers/authReducer';\nimport { tasksActionsReducer } from './reducers/tasksActionsReducer';\n\nconst rootReducer = combineReducers({\n  tasks: tasksActionsReducer,\n  lists: listsActionsReducer,\n  app: appReducer,\n  auth: authReducer,\n});\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\nexport type RootStateType = ReturnType<typeof rootReducer>;\n// useSelector which has store RootStateType\nexport const useAppSelector: TypedUseSelectorHook<RootStateType> = useSelector;\n\n// @ts-ignore\nwindow.store = store;\n","import React, { memo, useCallback, useEffect } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\n\nimport { AddItemForm } from './AddItemForm';\nimport { Todolist } from './Todolist';\n\nimport { TodoListInAppType } from 'state/actions/types';\nimport { addListTC, fetchListsTC } from 'state/middlewares/lists';\nimport { getAuthState } from 'state/selectors';\nimport { useAppSelector } from 'state/store';\n\ntype AllTodoListsPropsType = {\n  demo?: boolean;\n};\n\nexport const AllTodoLists = memo(({ demo = false }: AllTodoListsPropsType) => {\n  // const todolists = useSelector<RootStateType, TodoListInAppType[]>(state => state.lists);\n  const todolists = useAppSelector<TodoListInAppType[]>(state => state.lists);\n  const userIsLoggedIn = useSelector(getAuthState);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (demo || !userIsLoggedIn) return;\n    dispatch(fetchListsTC());\n  }, []);\n\n  const addTodolist = useCallback(\n    (listName: string) => {\n      if (listName) {\n        dispatch(addListTC(listName));\n      }\n    },\n    [dispatch],\n  );\n  if (!userIsLoggedIn) {\n    return <Navigate replace to=\"/login\" />;\n  }\n\n  return (\n    <>\n      <Grid container style={{ paddingTop: '20px' }}>\n        <AddItemForm addItemCallback={addTodolist} />\n      </Grid>\n      <Grid container spacing={3}>\n        {todolists.map(list => (\n          <Grid item key={list.id}>\n            <Paper style={{ padding: '20px' }} elevation={10}>\n              <Todolist\n                demo={demo}\n                listStatus={list.entityStatus}\n                todolistID={list.id}\n                title={list.title}\n                activeFilter={list.activeFilter}\n              />\n            </Paper>\n          </Grid>\n        ))}\n      </Grid>\n    </>\n  );\n});\n","import React from 'react';\n\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\nimport { useDispatch } from 'react-redux';\n\nimport { setAppErrorAC } from 'state/actions/app';\nimport { useAppSelector } from 'state/store';\nimport { ComponentReturnType } from 'types/ComponentReturnType';\n\nconst Alert = (props: AlertProps) => (\n  <MuiAlert elevation={6} variant=\"filled\" {...props} />\n);\n\nexport const ErrorSnackbar = (): ComponentReturnType => {\n  const error = useAppSelector<string | null>(state => state.app.error);\n  const isOpen = error !== null;\n\n  const dispatch = useDispatch();\n\n  const handleClose = (event?: React.SyntheticEvent, reason?: string): void => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    dispatch(setAppErrorAC(null));\n  };\n\n  return (\n    <Snackbar open={isOpen} autoHideDuration={5000} onClose={handleClose}>\n      <Alert onClose={handleClose} severity=\"error\">\n        {error && error}\n      </Alert>\n    </Snackbar>\n  );\n};\n","import React, { useState } from 'react';\n\nimport {\n  Checkbox,\n  FormControl,\n  FormControlLabel,\n  FormGroup,\n  FormLabel,\n  TextField,\n} from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport { useFormik } from 'formik';\nimport { useDispatch } from 'react-redux';\nimport { Navigate } from 'react-router-dom';\n\nimport { loginTC } from 'state/middlewares/login';\nimport { getAuthState } from 'state/selectors';\nimport { useAppSelector } from 'state/store';\nimport { ComponentReturnType } from 'types/ComponentReturnType';\n\nexport const Login = (): ComponentReturnType => {\n  const [showPassword, setShowPassword] = useState<boolean>(false);\n  const userIsLoggedIn = useAppSelector(getAuthState);\n  const dispatch = useDispatch();\n\n  const MIN_PASSWORD_LENGTH = 4;\n\n  const formik = useFormik({\n    validate: (values) => {\n      if (!values.email) {\n        return { email: 'email required' };\n      }\n      if (values.password.length < MIN_PASSWORD_LENGTH) {\n        return { password: 'password is too short' };\n      }\n      if (!values.password) {\n        return { password: 'password required' };\n      }\n    },\n    initialValues: {\n      email: 'free@samuraijs.com',\n      password: 'free',\n      rememberMe: false,\n      // showPassword: false,\n    },\n    onSubmit: values => {\n      dispatch(loginTC(values));\n    },\n  });\n\n  const handlePasswordVisibilityChange = (): void => {\n    setShowPassword(!showPassword);\n  };\n\n  if (userIsLoggedIn) {\n    return <Navigate replace to=\"/\" />;\n  }\n\n  return (\n    <Grid container justify=\"center\">\n      <Grid item xs={4}>\n        <form onSubmit={formik.handleSubmit}>\n          <FormControl>\n            <FormLabel\n              style={{ marginTop: '20vh', minWidth: '300px', textAlign: 'center' }}\n            >\n              <p>\n                sign up on <a href=\"https://social-network.samuraijs.com/\">samuraiJS</a>\n              </p>\n              <p>or use the default credentials</p>\n            </FormLabel>\n            <FormGroup>\n              <TextField\n                label=\"Email\"\n                name=\"email\"\n                margin=\"normal\"\n                type=\"email\"\n                onChange={formik.handleChange}\n                onBlur={formik.handleBlur}\n                value={formik.values.email}\n                error={formik.touched.email && Boolean(formik.errors.email)}\n                helperText={formik.errors.email}\n              />\n              <TextField\n                label=\"Password\"\n                name=\"password\"\n                margin=\"normal\"\n                onChange={formik.handleChange}\n                onBlur={formik.handleBlur}\n                value={formik.values.password}\n                type={showPassword ? '' : 'password'}\n                error={formik.touched.password && Boolean(formik.errors.password)}\n                helperText={formik.errors.password}\n              />\n\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    name=\"rememberMe\"\n                    onChange={formik.handleChange}\n                    checked={formik.values.rememberMe}\n                  />\n                }\n                label=\"remember me\"\n              />\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={showPassword}\n                    onChange={handlePasswordVisibilityChange}\n                  />\n                }\n                label=\"show password\"\n              />\n\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={Boolean(formik.errors.password) || Boolean(formik.errors.email)}\n              >\n                Login\n              </Button>\n            </FormGroup>\n          </FormControl>\n        </form>\n      </Grid>\n    </Grid>\n  );\n};\n","import { Dispatch } from 'redux';\n\nimport { authAPI } from 'api';\nimport { LoginRequestDataType, ServerResultCodes } from 'api/types';\nimport { setAppStatusAC } from 'state/actions/app';\nimport { setAuthStateAC } from 'state/reducers/authReducer';\nimport { handleReject, handleResolveWithServerErrorMessage } from 'utils';\n\nexport const loginTC = (authData: LoginRequestDataType) => (dispatch: Dispatch) => {\n  dispatch(setAppStatusAC('loading'));\n  authAPI\n    .login(authData)\n    .then(response => {\n      if (response.data.resultCode === ServerResultCodes.success) {\n        dispatch(setAuthStateAC(true));\n        dispatch(setAppStatusAC('succeeded'));\n      } else {\n        handleResolveWithServerErrorMessage(response.data, dispatch);\n      }\n    })\n    .catch(error => {\n      handleReject(error, dispatch);\n    });\n};\n\nexport const logoutTC = () => (dispatch: Dispatch) => {\n  authAPI\n    .logout()\n    .then(response => {\n      if (response.data.resultCode === ServerResultCodes.success) {\n        dispatch(setAuthStateAC(false));\n      } else {\n        handleResolveWithServerErrorMessage(response.data, dispatch);\n      }\n    })\n    .catch(error => {\n      handleReject(error, dispatch);\n    });\n};\n","import React from 'react';\n\nimport notFound from './assets/page404png.png';\n\nimport { ComponentReturnType } from 'types/ComponentReturnType';\n\nexport const Page404 = (): ComponentReturnType => (\n  <div\n    style={{\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '90vh',\n    }}\n  >\n    <img src={notFound} alt=\"404\" />\n  </div>\n);\n","import { Dispatch } from 'redux';\n\nimport { authAPI } from 'api';\nimport { ServerResultCodes } from 'api/types';\nimport { initializeAppAC, setAppStatusAC } from 'state/actions/app';\nimport { setAuthStateAC } from 'state/reducers/authReducer';\nimport { handleReject, handleResolveWithServerErrorMessage } from 'utils';\n\nexport const initializeAppTC = () => (dispatch: Dispatch) => {\n  authAPI\n    .authMe()\n    .then(response => {\n      if (response.data.resultCode === ServerResultCodes.success) {\n        // dispatch(initializeAppAC(true));\n        dispatch(setAuthStateAC(true));\n        dispatch(setAppStatusAC('succeeded'));\n      } else {\n        handleResolveWithServerErrorMessage(response.data, dispatch);\n      }\n      dispatch(initializeAppAC(true));\n    })\n    .catch(error => {\n      handleReject(error, dispatch);\n    });\n};\n","import React, { useEffect } from 'react';\n\nimport { Box, CircularProgress } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { Menu } from '@material-ui/icons';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Routes, Navigate, useNavigate } from 'react-router-dom';\n\nimport { AllTodoLists } from 'components/AllTodoLists';\nimport { ErrorSnackbar } from 'components/ErrorSnackbar';\nimport { Login } from 'components/Login';\nimport { Page404 } from 'components/Page404';\nimport { initializeAppTC } from 'state/middlewares/app';\nimport { logoutTC } from 'state/middlewares/login';\nimport { getAppInitializationState, getAppStatus, getAuthState } from 'state/selectors';\nimport { ComponentReturnType } from 'types/ComponentReturnType';\n\ntype AppPropsType = {\n  demo?: boolean;\n};\n\nexport const App = ({ demo = false }: AppPropsType): ComponentReturnType => {\n  // console.log('app was called');\n  const appStatus = useSelector(getAppStatus);\n  const appIsInitialized = useSelector(getAppInitializationState);\n  const userIsLoggedIn = useSelector(getAuthState);\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(initializeAppTC());\n  }, []);\n\n  if (!appIsInitialized) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', marginTop: '50vh' }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  const handleLogout = (): void => {\n    dispatch(logoutTC());\n    navigate('/login');\n  };\n\n  const showProgressBar = appStatus === 'loading';\n\n  return (\n    <div>\n      <ErrorSnackbar />\n      <AppBar position=\"static\">\n        {/* <Toolbar style={{ justifyContent: 'space-between' }}> */}\n        <Toolbar>\n          <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n            <Menu />\n          </IconButton>\n          <Typography variant=\"h6\">Todolist</Typography>\n          {userIsLoggedIn && (\n            <Button\n              color=\"inherit\"\n              variant=\"outlined\"\n              onClick={handleLogout}\n              style={{ marginLeft: '50px' }}\n            >\n              Log out\n            </Button>\n          )}\n        </Toolbar>\n        {showProgressBar && <LinearProgress color=\"secondary\" />}\n      </AppBar>\n      <Container fixed>\n        <Routes>\n          <Route path=\"/it-inc-todolist-ts\" element={<AllTodoLists demo={demo} />} />\n          <Route path=\"/\" element={<AllTodoLists demo={demo} />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"404\" element={<Page404 />} />\n          <Route path=\"*\" element={<Navigate to=\"404\" />} />\n        </Routes>\n      </Container>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport { App } from 'App';\nimport { store } from 'state/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}