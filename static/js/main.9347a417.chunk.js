(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{110:function(t,e,a){"use strict";a.r(e);var n,c,o,l=a(0),i=a.n(l),r=a(8),s=a.n(r),u=(a(87),a(30)),d=a(26),m=a(154),b=a(142),f=a(143),p=a(27),O=p.a.div(n||(n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  padding-bottom: 20px;\n"]))),j=i.a.memo((function(t){console.log('AddItemForm with "'.concat(t.addItemCallback.toString(),'" callback was called'));var e=Object(l.useState)(""),a=Object(u.a)(e,2),n=a[0],c=a[1],o=Object(l.useState)(!1),r=Object(u.a)(o,2),s=r[0],d=r[1],p=Object(l.useCallback)((function(){var e=n.trim();e?t.addItemCallback(e):d(!0),c("")}),[n,t.addItemCallback]),j=Object(l.useCallback)((function(t){"Enter"===t.key&&p()}),[p]);return i.a.createElement(O,null,i.a.createElement(m.a,{label:s?"give it a name":"Title",size:"small",variant:"outlined",value:n,error:s,onChange:function(t){s&&d(!1),c(t.currentTarget.value)},onKeyPress:j}),i.a.createElement(b.a,{onClick:p},i.a.createElement(f.a,null)))})),k=a(148),E=a(149),D=a(151),I=a(147),v=a(152),y=a(153),h=a(111),g=a(150),C=a(47),S=a(10),T=a(74),w=a.n(T).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"dd744663-c08a-476e-8a84-c072bf5b7a68"}});!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(c||(c={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.High=2]="High",t[t.Urgent=3]="Urgent",t[t.Someday=4]="Someday"}(o||(o={}));var A,N,L,F=function(t,e){return w.put("todo-lists/".concat(t),{title:e})},x=function(t){return w.delete("todo-lists/".concat(t))},K=function(t){return w.post("todo-lists",{title:t})},M=function(){return w.get("todo-lists")},P=function(t,e){return w.post("todo-lists/".concat(t,"/tasks"),{title:e})},R=function(t){return w.get("todo-lists/".concat(t,"/tasks"))},H=function(t,e,a){return w.put("todo-lists/".concat(t,"/tasks/").concat(e),a)},G=function(t,e){return w.delete("/todo-lists/".concat(t,"/tasks/").concat(e))},U=[],V=a(23),B=i.a.memo((function(t){console.log("editableSpan was called, text: ".concat(t.itemName));var e=Object(l.useState)(!1),a=Object(u.a)(e,2),n=a[0],c=a[1],o=Object(l.useState)(""),r=Object(u.a)(o,2),s=r[0],d=r[1],b=Object(l.useState)(!1),f=Object(u.a)(b,2),p=f[0],O=f[1],j=Object(l.useCallback)((function(t){O(!1),d(t.currentTarget.value)}),[]),k=Object(l.useCallback)((function(){var e=s.trim();e?(c(!1),t.itemNameChangedCallback(e),d(t.itemName)):(d(""),O(!0))}),[s]),E=Object(l.useCallback)((function(t){"Enter"===t.key&&k()}),[k]);return n?i.a.createElement(m.a,{error:Boolean(p),helperText:p,onKeyPress:E,autoFocus:!0,onBlur:k,value:s,onChange:j}):i.a.createElement("span",{onDoubleClick:function(){c(!0),d(t.itemName)}},t.itemName)})),z=a(141),J=a(146),W=a(145),Y=a(24),$={},q=function(t,e,a){return function(n,c){var o=c().tasks[t].find((function(t){return t.id===e}));if(o){var l=Object(S.a)({deadline:o.deadline,description:o.description,priority:o.priority,startDate:o.startDate,status:o.status,title:o.title},a);H(t,e,l).then((function(c){n(function(t,e,a){return{type:"UPDATE-TASK-DATA",payload:{listID:t,taskID:e,newData:a}}}(t,e,a))}))}else console.warn("task with id ".concat(e," not found in todo list ").concat(t))}},Q=a(155),X=a(144),Z=i.a.memo((function(t){console.log("Task was called, title: ".concat(t.taskName));var e=Object(l.useCallback)((function(e){var a=e.currentTarget.checked?c.Completed:c.New;t.changeStatus(t.taskID,a)}),[t.changeStatus,t.taskID]),a=Object(l.useCallback)((function(e){t.changeName(t.taskID,e)}),[t.changeName,t.taskID]),n=Object(l.useCallback)((function(){t.removeTask(t.taskID)}),[t.removeTask,t.taskID]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(_,null,i.a.createElement(Q.a,{checked:t.isDone,color:"primary",onChange:e}),i.a.createElement(B,{itemName:t.taskName,itemNameChangedCallback:a})),i.a.createElement(b.a,{size:"small",onClick:n},i.a.createElement(X.a,{color:"primary"})))})),_=p.a.div(A||(A=Object(d.a)(["\n  //min-width: 260px;\n  //border-bottom: 2px solid gray;\n"]))),tt=p.a.div(N||(N=Object(d.a)(["\n  min-width: 300px;\n"]))),et=p.a.div(L||(L=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-right: 0;\n"]))),at=i.a.memo((function(t){console.log("todolist was called, title: ".concat(t.title));var e=Object(V.c)((function(e){return e.tasks[t.todolistID]})),a=Object(V.b)();Object(l.useEffect)((function(){var e;a((e=t.todolistID,function(t){R(e).then((function(a){return t(function(t,e){return{type:"SET-TASKS",payload:{todoListID:t,tasks:e}}}(e,a.data.items))}))}))}),[a,t.todolistID]);var n=e;"active"===t.activeFilter&&(n=e.filter((function(t){return t.status===c.New}))),"completed"===t.activeFilter&&(n=e.filter((function(t){return t.status===c.Completed})));var o=Object(l.useCallback)((function(e,n){a(q(t.todolistID,e,{status:n}))}),[a,t.todolistID]),r=Object(l.useCallback)((function(e){var n,c;a((n=t.todolistID,c=e,function(t){P(n,c).then((function(e){t(function(t,e){return{type:"ADD-TASK",payload:{listID:t,task:e}}}(n,e.data.data.item))}))}))}),[a,t.todolistID]),s=Object(l.useCallback)((function(e){a(function(t,e){return function(a){G(t,e).then((function(n){a(function(t,e){return{type:"REMOVE-TASK",payload:{listID:t,taskID:e}}}(t,e))}))}}(t.todolistID,e))}),[a,t.todolistID]),u=Object(l.useCallback)((function(e){a({type:"CHANGE-FILTER",payload:{listID:t.todolistID,activeFilter:e}})}),[a,t.todolistID]),d=Object(l.useCallback)((function(){var e,n=(e=t.todolistID,function(t){x(e).then((function(a){return t(function(t){return{type:"REMOVE-LIST",payload:{listID:t}}}(e))}))});a(n)}),[a,t.todolistID]),m=Object(l.useCallback)((function(e,n){a(q(t.todolistID,e,{title:n}))}),[a,t.todolistID]),f=Object(l.useCallback)((function(e){a(function(t,e){return function(a){F(t,e).then((function(n){a(function(t,e){return{type:"CHANGE-LIST-NAME",payload:{listID:t,newName:e}}}(t,e))}))}}(t.todolistID,e))}),[a,t.todolistID]);return i.a.createElement(tt,null,i.a.createElement("h3",null,i.a.createElement(B,{itemName:t.title,itemNameChangedCallback:f}),i.a.createElement(b.a,{onClick:d},i.a.createElement(W.a,null))),i.a.createElement(j,{addItemCallback:r}),i.a.createElement(z.a,{disablePadding:!0},n.map((function(t){return i.a.createElement(J.a,{disableGutters:!0,key:t.id,style:{justifyContent:"space-between"}},i.a.createElement(Z,{taskID:t.id,isDone:t.status===c.Completed,changeName:m,taskName:t.title,changeStatus:o,removeTask:s}))}))),i.a.createElement(et,null,i.a.createElement(I.a,{variant:"contained",color:"all"===t.activeFilter?"primary":"default",onClick:function(){return u("all")}},"All"),i.a.createElement(I.a,{variant:"contained",color:"active"===t.activeFilter?"primary":"default",onClick:function(){return u("active")}},"Active"),i.a.createElement(I.a,{variant:"contained",color:"completed"===t.activeFilter?"primary":"default",onClick:function(){return u("completed")}},"Completed")))})),nt=function(){console.log("app was called");var t=Object(V.c)((function(t){return t.lists})),e=Object(V.b)();Object(l.useEffect)((function(){e((function(t){M().then((function(e){t({type:"SET-LISTS",payload:{lists:e.data}})}))}))}),[e]);var a=Object(l.useCallback)((function(t){var a;t&&e((a=t,function(t){K(a).then((function(e){t({type:"ADD-LIST",payload:{todoList:e.data.data.item}})}))}))}),[e]);return i.a.createElement("div",null,i.a.createElement(k.a,{position:"static"},i.a.createElement(E.a,{style:{justifyContent:"space-between"}},i.a.createElement(b.a,{edge:"start",color:"inherit","aria-label":"menu"},i.a.createElement(g.a,null)),i.a.createElement(D.a,{variant:"h6"},"Todolists"),i.a.createElement(I.a,{color:"inherit",variant:"outlined"},"Login"))),i.a.createElement(v.a,{fixed:!0},i.a.createElement(y.a,{container:!0,style:{paddingTop:"20px"}},i.a.createElement(j,{addItemCallback:a})),i.a.createElement(y.a,{container:!0,spacing:3},t.map((function(t){return i.a.createElement(y.a,{item:!0,key:t.id},i.a.createElement(h.a,{style:{padding:"20px"},elevation:10},i.a.createElement(at,{todolistID:t.id,title:t.title,activeFilter:t.activeFilter})))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ct=a(48),ot=a(75),lt=Object(ct.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD-TASK":return Object(S.a)(Object(S.a)({},t),{},Object(Y.a)({},e.payload.listID,[e.payload.task].concat(Object(C.a)(t[e.payload.listID]))));case"REMOVE-TASK":return Object(S.a)(Object(S.a)({},t),{},Object(Y.a)({},e.payload.listID,t[e.payload.listID].filter((function(t){return t.id!==e.payload.taskID}))));case"UPDATE-TASK-DATA":return Object(S.a)(Object(S.a)({},t),{},Object(Y.a)({},e.payload.listID,t[e.payload.listID].map((function(t){return t.id===e.payload.taskID?Object(S.a)(Object(S.a)({},t),e.payload.newData):t}))));case"ADD-LIST":return Object(S.a)(Object(S.a)({},t),{},Object(Y.a)({},e.payload.todoList.id,[]));case"REMOVE-LIST":var a=Object(S.a)({},t);return delete a[e.payload.listID],a;case"SET-LISTS":var n=Object(S.a)({},t);return e.payload.lists.forEach((function(t){n[t.id]=[]})),n;case"SET-TASKS":return Object(S.a)(Object(S.a)({},t),{},Object(Y.a)({},e.payload.todoListID,e.payload.tasks));default:return t}},lists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD-LIST":var a=Object(S.a)(Object(S.a)({},e.payload.todoList),{},{activeFilter:"all"});return[a].concat(Object(C.a)(t));case"REMOVE-LIST":return t.filter((function(t){return t.id!==e.payload.listID}));case"CHANGE-FILTER":return t.map((function(t){return t.id===e.payload.listID?Object(S.a)(Object(S.a)({},t),{},{activeFilter:e.payload.activeFilter}):t}));case"CHANGE-LIST-NAME":return t.map((function(t){return t.id===e.payload.listID?Object(S.a)(Object(S.a)({},t),{},{title:e.payload.newName}):t}));case"SET-LISTS":return e.payload.lists.map((function(t){return Object(S.a)(Object(S.a)({},t),{},{activeFilter:"all"})}));default:return t}}}),it=Object(ct.c)(lt,Object(ct.a)(ot.a));window.store=it,s.a.render(i.a.createElement(V.a,{store:it},i.a.createElement(nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},82:function(t,e,a){t.exports=a(110)},87:function(t,e,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.9347a417.chunk.js.map